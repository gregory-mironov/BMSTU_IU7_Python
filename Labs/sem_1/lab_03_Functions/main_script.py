'''
Лабораторная работа № 3
Вычисление значений функций

Данная программа:
    1. Находит значения функций Z1(y0), z2(y0) и z3(z1(y0),z2(y0))
    2. Находит максимальное значение z3(z1(y0),z2(y0)) и y0, при
       котором оно было достигнуто

Переменные:
    sep - разделитель строк в таблице
    y1, y2 - диапазон значений аргумента функции
    y - текущее значение аргумента функций
    z3max, yz3max - максимальное значение и значение аргумента,
                    при котором оно достигнуто для z3(z1(y0),z2(y0))
    z1, z2, z3 - значения функций Z1, Z2 и Z3, соответственно при текущем y

Тестовый пример
    ╔═══════════╤══════════════╤══════════════╤══════════════╗
    ║     Y     │      Z1      │      Z2      │      Z3      ║
    ╟───────────┼──────────────┼──────────────┼──────────────╢
    ║   0.00    │   -1.0000    │    1.5000    │    1.1447    ║
    ╟───────────┼──────────────┼──────────────┼──────────────╢
    ║   0.05    │   -0.9482    │    1.2077    │    1.0462    ║
    ╟───────────┼──────────────┼──────────────┼──────────────╢
    ║   0.10    │   -0.8928    │    0.9320    │    0.9406    ║
    ╟───────────┼──────────────┼──────────────┼──────────────╢
    ║   0.15    │   -0.8336    │    0.6742    │    0.8253    ║
    ╟───────────┼──────────────┼──────────────┼──────────────╢
    ║   0.20    │   -0.7703    │    0.4360    │    0.6951    ║
    ╟───────────┼──────────────┼──────────────┼──────────────╢
    ║   0.25    │   -0.7027    │    0.2188    │    0.5357    ║
    ╟───────────┼──────────────┼──────────────┼──────────────╢
    ║   0.30    │   -0.6307    │    0.0240    │    0.2474    ║
    ╟───────────┼──────────────┼──────────────┼──────────────╢
    ║   0.35    │   -0.5539    │   -0.1467    │    0.4332    ║
    ╟───────────┼──────────────┼──────────────┼──────────────╢
    ║   0.40    │   -0.4722    │   -0.2920    │    0.5166    ║
    ╟───────────┼──────────────┼──────────────┼──────────────╢
    ║   0.45    │   -0.3853    │   -0.4103    │    0.5407    ║
    ╟───────────┼──────────────┼──────────────┼──────────────╢
    ║   0.50    │   -0.2929    │   -0.5000    │    0.5271    ║
    ╟───────────┼──────────────┼──────────────┼──────────────╢
    ║   0.55    │   -0.1948    │   -0.5598    │    0.4777    ║
    ╟───────────┼──────────────┼──────────────┼──────────────╢
    ║   0.60    │   -0.0906    │   -0.5880    │    0.3762    ║
    ╟───────────┼──────────────┼──────────────┼──────────────╢
    ║   0.65    │    0.0200    │   -0.5833    │    0.2266    ║
    ╟───────────┼──────────────┼──────────────┼──────────────╢
    ║   0.70    │    0.1372    │   -0.5440    │    0.4210    ║
    ╟───────────┼──────────────┼──────────────┼──────────────╢
    ║   0.75    │    0.2613    │   -0.4688    │    0.4967    ║
    ╟───────────┼──────────────┼──────────────┼──────────────╢
    ║   0.80    │    0.3929    │   -0.3560    │    0.5191    ║
    ╟───────────┼──────────────┼──────────────┼──────────────╢
    ║   0.85    │    0.5321    │   -0.2042    │    0.4772    ║
    ╟───────────┼──────────────┼──────────────┼──────────────╢
    ║   0.90    │    0.6795    │   -0.0120    │    0.2013    ║
    ╟───────────┼──────────────┼──────────────┼──────────────╢
    ║   0.95    │    0.8353    │    0.2223    │    0.5705    ║
    ╟───────────┼──────────────┼──────────────┼──────────────╢
    ║   1.00    │    1.0000    │    0.5000    │    0.7937    ║
    ╚═══════════╧══════════════╧══════════════╧══════════════╝

Наибольшее значение, равное  1.1447, функция Z3 принимает при Y0, равном 0.00
'''

from math import sqrt

y1, y2 = map(float, input("Введите диапазон значений аргумента:\n    ").split())
dy = float(input("Введите шаг аргумента функции:\n    "))

print("╔═══════════╤══════════════════╤══════════════════╤══════════════════╗")
print("║     Y     │        Z1        │        Z2        │        Z3        ║")

sep = "╟───────────┼──────────────────┼──────────────────┼──────────────────╢"

y = y1
z3max = yz3max = 0.0
while y <= y2+0.01:
    print(sep)
    z1 = y * (2**y) - 1
    z2 = 2 * y**3 + 3 * y**2 - 6 * y + 1.5
    z3 = (abs(z1 * z2))**(1/3)
    if(y == y1 or z3 > z3max):
        yz3max = y
        z3max = z3
    print('║{: ^11.2f}│'.format(y), end='')
    if(abs(z1) >= 1e3):
        print('{: ^18.4e}│'.format(z1), end='')
    else:
        print('{: ^18.4f}│'.format(z1), end='')
    if(abs(z2) >= 1e3):
        print('{: ^18.4e}│'.format(z2), end='')
    else:
        print('{: ^18.4f}│'.format(z2), end='')
    if(abs(z3) >= 1e3):
        print('{: ^18.4e}║'.format(z3))
    else:
        print('{: ^18.4f}║'.format(z3))

    y += dy

print("╚═══════════╧══════════════════╧══════════════════╧═══════\
═══════════╝\n")
print('Наибольшее значение, равное ', end='')
if(abs(z3max) >= 1e3):
    print('{: >7.4e}'.format(z3max), end='')
else:
    print('{: >7.4f}'.format(z3max), end='')
print(', функция Z3 принимает при Y, равном ', end='')

if(abs(yz3max) >= 1e3):
    print('{: ^6.2e}'.format(yz3max))
else:
    print('{: ^6.2f}'.format(yz3max))
